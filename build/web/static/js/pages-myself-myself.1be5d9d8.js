(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-myself-myself"],{"106e":function(e,t,i){"use strict";i.r(t);var n=i("902f"),a=i("88a6");for(var o in a)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return a[e]}))}(o);i("2b10");var s=i("828b"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"ffea3b1a",null,!1,n["a"],void 0);t["default"]=r.exports},"2b10":function(e,t,i){"use strict";var n=i("505c"),a=i.n(n);a.a},"505c":function(e,t,i){var n=i("ffe2");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=i("967d").default;a("3b34d12d",n,!0,{sourceMap:!1,shadowMode:!1})},"82d4":function(e,t,i){"use strict";i("6a54");var n=i("f5bd").default;Object.defineProperty(t,"__esModule",{value:!0}),t.base64ToPath=function(e){return new Promise((function(t,i){if("object"===("undefined"===typeof window?"undefined":(0,a.default)(window))&&"document"in window){e=e.split(",");var n=e[0].match(/:(.*?);/)[1],r=atob(e[1]),c=r.length,u=new Uint8Array(c);while(c--)u[c]=r.charCodeAt(c);return t((window.URL||window.webkitURL).createObjectURL(new Blob([u],{type:n})))}var d=e.split(",")[0].match(/data\:\S+\/(\S+);/);d?d=d[1]:i(new Error("base64 error"));var f=function(){return Date.now()+String(s++)}()+"."+d;if("object"!==("undefined"===typeof plus?"undefined":(0,a.default)(plus)))if("object"===("undefined"===typeof wx?"undefined":(0,a.default)(wx))&&wx.canIUse("getFileSystemManager")){l=wx.env.USER_DATA_PATH+"/"+f;wx.getFileSystemManager().writeFile({filePath:l,data:o(e),encoding:"base64",success:function(){t(l)},fail:function(e){i(e)}})}else i(new Error("not support"));else{var l="_doc/uniapp_temp/"+f;if(!function(e,t){for(var i=e.split("."),n=t.split("."),a=!1,o=0;o<n.length;o++){var s=i[o]-n[o];if(0!==s){a=s>0;break}}return a}("Android"===plus.os.name?"1.9.9.80627":"1.9.9.80472",plus.runtime.innerVersion))return void plus.io.resolveLocalFileSystemURL("_doc",(function(n){n.getDirectory("uniapp_temp",{create:!0,exclusive:!1},(function(n){n.getFile(f,{create:!0,exclusive:!1},(function(n){n.createWriter((function(n){n.onwrite=function(){t(l)},n.onerror=i,n.seek(0),n.writeAsBinary(o(e))}),i)}),i)}),i)}),i);var v=new plus.nativeObj.Bitmap(f);v.loadBase64Data(e,(function(){v.save(l,{},(function(){v.clear(),t(l)}),(function(e){v.clear(),i(e)}))}),(function(e){v.clear(),i(e)}))}}))},t.pathToBase64=function(e){return new Promise((function(t,i){if("object"===("undefined"===typeof window?"undefined":(0,a.default)(window))&&"document"in window){if("function"===typeof FileReader){var n=new XMLHttpRequest;return n.open("GET",e,!0),n.responseType="blob",n.onload=function(){if(200===this.status){var e=new FileReader;e.onload=function(e){t(e.target.result)},e.onerror=i,e.readAsDataURL(this.response)}},n.onerror=i,void n.send()}var o=document.createElement("canvas"),s=o.getContext("2d"),r=new Image;return r.onload=function(){o.width=r.width,o.height=r.height,s.drawImage(r,0,0),t(o.toDataURL()),o.height=o.width=0},r.onerror=i,void(r.src=e)}"object"!==("undefined"===typeof plus?"undefined":(0,a.default)(plus))?"object"===("undefined"===typeof wx?"undefined":(0,a.default)(wx))&&wx.canIUse("getFileSystemManager")?wx.getFileSystemManager().readFile({filePath:e,encoding:"base64",success:function(e){t("data:image/png;base64,"+e.data)},fail:function(e){i(e)}}):i(new Error("not support")):plus.io.resolveLocalFileSystemURL(function(e){if(0===e.indexOf("_www")||0===e.indexOf("_doc")||0===e.indexOf("_documents")||0===e.indexOf("_downloads"))return e;if(0===e.indexOf("file://"))return e;if(0===e.indexOf("/storage/emulated/0/"))return e;if(0===e.indexOf("/")){var t=plus.io.convertAbsoluteFileSystem(e);if(t!==e)return t;e=e.substr(1)}return"_www/"+e}(e),(function(e){e.file((function(e){var n=new plus.io.FileReader;n.onload=function(e){t(e.target.result)},n.onerror=function(e){i(e)},n.readAsDataURL(e)}),(function(e){i(e)}))}),(function(e){i(e)}))}))};var a=n(i("fcf3"));function o(e){var t=e.split(",");return t[t.length-1]}i("5ef2"),i("bf0f"),i("7a76"),i("c9b5"),i("5c47"),i("2c10"),i("15d1"),i("d5c6"),i("5a56"),i("f074"),i("4db2"),i("c976"),i("4d8f"),i("7b97"),i("668a"),i("c5b7"),i("8ff5"),i("2378"),i("641a"),i("64e0"),i("cce3"),i("efba"),i("d009"),i("bd7d"),i("7edd"),i("d798"),i("f547"),i("5e54"),i("b60a"),i("8c18"),i("12973"),i("f991"),i("198e"),i("8557"),i("63b1"),i("1954"),i("1cf1"),i("18f7"),i("de6c"),i("dc89"),i("2425");var s=0},"88a6":function(e,t,i){"use strict";i.r(t);var n=i("ee37"),a=i.n(n);for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o);t["default"]=a.a},"902f":function(e,t,i){"use strict";i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"my"},[n("v-uni-view",{staticClass:"my-bg",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.upBackground.apply(void 0,arguments)}}},[n("v-uni-image",{staticClass:"bg-picture",attrs:{src:e.info.userBg,mode:"widthFix"}})],1),n("v-uni-view",{staticClass:"my-container"},[n("v-uni-view",{staticClass:"contain-introduce"},[e.isLogin?n("v-uni-view",{staticClass:"introduce-left",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.upAvatar.apply(void 0,arguments)}}},[n("v-uni-image",{staticClass:"left-touxiang",attrs:{src:e.info.userImg,mode:"widthFix"}})],1):e._e(),e.isLogin?n("v-uni-view",{staticClass:"introduce-right"},[n("v-uni-view",{staticClass:"right-nickname"},[e._v(e._s(e.info.nickName))]),n("v-uni-view",{staticClass:"right-desc"},[e._v("这一杯谁不爱! 专业咖啡新鲜式")])],1):e._e(),e.isLogin?e._e():n("v-uni-view",{staticClass:"introduce-isLogin",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goToLogin.apply(void 0,arguments)}}},[n("v-uni-text",{staticClass:"introduce-isLogin-text"},[e._v("登录")])],1)],1)],1),n("v-uni-view",{staticClass:"container-info"},[n("v-uni-view",{staticClass:"info-list"},[n("v-uni-view",{staticClass:"list-ziliao"},[e._v("个人资料")]),n("v-uni-image",{staticClass:"list-icon",attrs:{src:i("b20d"),mode:"widthFix"}})],1),n("v-uni-view",{staticClass:"info-list"},[n("v-uni-view",{staticClass:"list-dingdan"},[e._v("我的订单")]),n("v-uni-image",{staticClass:"list-icon",attrs:{src:i("b20d"),mode:"widthFix"}})],1),n("v-uni-view",{staticClass:"info-list"},[n("v-uni-view",{staticClass:"list-shoucang"},[e._v("我的收藏")]),n("v-uni-image",{staticClass:"list-icon",attrs:{src:i("b20d"),mode:"widthFix"}})],1),n("v-uni-view",{staticClass:"info-list"},[n("v-uni-view",{staticClass:"list-dizhi"},[e._v("地址管理")]),n("v-uni-image",{staticClass:"list-icon",attrs:{src:i("b20d"),mode:"widthFix"}})],1),n("v-uni-view",{staticClass:"info-list"},[n("v-uni-view",{staticClass:"list-dizhi",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.isLogout.apply(void 0,arguments)}}},[e._v("退出登录")]),n("v-uni-image",{staticClass:"list-icon",attrs:{src:i("b20d"),mode:"widthFix"}})],1)],1)],1)},a=[]},b20d:function(e,t,i){e.exports=i.p+"static/dayufuhao.png"},ee37:function(e,t,i){"use strict";i("6a54"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("5c47"),i("a1c1");var n=i("82d4"),a={data:function(){return{isLogin:!1,info:{},pic:{}}},onShow:function(){this.isGoToLogin(),this.getUserInfo()},methods:{isGoToLogin:function(){var e=JSON.parse(localStorage.getItem("token"));this.isLogin=!!e},goToLogin:function(){uni.navigateTo({url:"/pages/login/login"})},getUserInfo:function(){var e=this;if(this.isLogin){var t=JSON.parse(localStorage.getItem("token"));this.$uni({url:"/findMy",data:{tokenString:t}}).then((function(t){e.info=t[0]}))}},getPic:function(){var e=this;uni.request({url:" https://mock.mengxuegu.com/mock/640097fd7c016026ff2b9468/mypic",method:"POST",data:{appkey:"U2FsdGVkX19WSQ59Cg+Fj9jNZPxRC5y0xB1iV06BeNA="},success:function(t){e.pic.userBg=t.data.picture[1].userBg,e.pic.userImg=t.data.picture[0].userAvatar}})},upAvatar:function(){var e=this;uni.chooseImage({success:function(t){(0,n.pathToBase64)(t.tempFilePaths[0]).then((function(t){var i=t.replace(/^data:image\/[A-Za-z]+;base64,/,"");e.userImg(i)}))}})},userImg:function(e){var t=this;uni.showLoading({title:"用户头像加载中"});var i=JSON.parse(localStorage.getItem("token"));this.$uni({url:"/updateAvatar",method:"POST",data:{imgType:"",tokenString:i,serverBase64Img:e},header:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"}}).then((function(e){uni.hideLoading(),t.getUserInfo()}))},upBackground:function(){var e=this;uni.chooseImage({success:function(t){(0,n.pathToBase64)(t.tempFilePaths[0]).then((function(t){var i=t.replace(/^data:image\/[A-Za-z]+;base64,/,"");e.userBackgroundImg(i)}))}})},userBackgroundImg:function(e){var t=this;uni.showLoading({title:"背景图片加载中"});var i=JSON.parse(localStorage.getItem("token"));this.$uni({url:"/updateUserBg",method:"POST",data:{imgType:"",tokenString:i,serverBase64Img:e},header:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"}}).then((function(e){console.log("res =>",e),uni.hideLoading(),t.getUserInfo()}))},isLogout:function(){var e=this;uni.showModal({title:"提示",content:"是否退出登录",confirmColor:"#0c34ba",success:function(t){t.confirm?(uni.setStorageSync("token",""),e.isLogin=!1):t.cancel}})}}};t.default=a},ffe2:function(e,t,i){var n=i("c86c");t=n(!1),t.push([e.i,".my[data-v-ffea3b1a]{height:calc(100vh - %?100?%);background-color:#efeff0}.my-container[data-v-ffea3b1a]{display:flex;justify-content:center}.contain-introduce[data-v-ffea3b1a]{position:relative;top:%?-100?%;display:flex;width:85%;padding:%?20?%;background-color:rgba(237,236,236,.8);border-radius:%?25?% %?25?% 0 0}.bg-picture[data-v-ffea3b1a]{width:100%}.introduce-left[data-v-ffea3b1a]{width:%?160?%;height:%?160?%;border-radius:50%;overflow:hidden;border:%?20?% solid #fff;margin-right:%?30?%}.left-touxiang[data-v-ffea3b1a]{width:100%;height:100%}.introduce-right[data-v-ffea3b1a]{position:absolute;left:%?240?%;width:calc(100% - %?240?%)}.right-nickname[data-v-ffea3b1a]{padding:%?20?% 0;font-weight:700;color:#00f;font-weight:700}.right-desc[data-v-ffea3b1a]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:%?26?%;color:#545454\n\t/* font-weight: bold; */}.container-info[data-v-ffea3b1a]{position:relative;top:%?-100?%;margin:0 %?36?%;padding:0 %?20?%;background:#fff;border-radius:25px}.info-list[data-v-ffea3b1a]{display:flex;justify-content:space-between;align-items:center;height:%?100?%;border-bottom:%?1?% solid #ddd;font-size:%?28?%;color:#666}.info-list[data-v-ffea3b1a]:last-child{border-color:#fff}.list-icon[data-v-ffea3b1a]{width:%?28?%}.introduce-isLogin[data-v-ffea3b1a]{background-color:#9cbee7;padding:%?30?% %?50?%;border-radius:5px;width:338.75px}.introduce-isLogin-text[data-v-ffea3b1a]{padding-left:110px;font-weight:700;font-size:18px;letter-spacing:1.55px}",""]),e.exports=t}}]);